!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1);const i=document.querySelector(".mainContainer"),r=document.querySelector(".mainContainer__videoContainer___search"),o=document.querySelector(".mainContainer__videoContainer___recommended"),s=document.querySelector(".mainContainer__videoContainer__h3"),a=(document.querySelector(".header__create"),document.querySelector(".header__create div"),document.querySelector(".header__app"),document.querySelector(".header__app div"),document.querySelector(".header__settings"),document.querySelector(".header__settings div"),document.querySelector(".header__input input")),l=document.querySelector(".mainContainer__sideNavigation__history"),d=document.querySelector(".mainContainer__modalNavigation__history"),c=document.querySelector(".header__menu"),u=document.querySelector(".sideMenu"),p=document.querySelector(".sideMenuClose"),m=document.querySelector(".mainContainer__sideNavigation__trending"),h=document.querySelector(".mainContainer__modalNavigation__trending"),y=document.querySelector(".mainContainer__modalNavigation__home"),g=document.querySelector(".sideMenu__menu"),v=document.querySelector(".mainContainer__sideNavigation__home");c.addEventListener("click",e=>{u.classList.remove("display"),i.style.position="absolute",i.style.left="102.5px"}),g.addEventListener("click",e=>{e.stopPropagation()}),p.addEventListener("click",e=>{u.classList.add("display"),i.style.position="static",i.style.left="0px"}),u.addEventListener("click",()=>{u.classList.add("display"),i.style.position="static",i.style.left="0px"}),[m,h,v,y].forEach(e=>e.addEventListener("click",t=>{const n=w(S);M(n),s.innerHTML=e===m||e===h?"Trending":"Home"})),[l,d].forEach(e=>e.addEventListener("click",e=>{let t=`<div class="historyStorageResults">\n                    <h3>Here are your previous searches:</h3>\n                 <p>${b.length} searchs were previously performed</p>\n                 <ol>`;if(b.length>0)for(let e=0;e<b.length;e++)t+=`<li>${b[e].toUpperCase()}</li>`;t+="</ol></div>",s.innerHTML="History",E(t)}));class _{constructor(e,t,n,i,r,o){this.id=e,this.title=t,this.description=n,this.thumbnail=i,this.channelTitle=r,this.publishedAt=new Date(o)}publishedWeeksAgo(){const e=this.publishedAt.getFullYear(),t=this.publishedAt.getMonth(),n=this.publishedAt.getDay(),i=this.publishedAt.getHours(),r=(new Date).getFullYear(),o=(new Date).getMonth(),s=(new Date).getDay(),a=(new Date).getHours();return n===s?a-i+" hours ago":o===t?s-n+" days ago":e===r?o-t+" months ago":r-e+" years ago"}}const f=[];let S=[],b=[],q=[];if(localStorage.searchResults){let e=localStorage.getItem("searchResults");b=JSON.parse(e),console.log("Yes")}localStorage.getItem("testObject");a.addEventListener("keypress",e=>{if("Enter"===e.key){if(null===e.target.value||void 0===e.target.value||""===e.target.value)return;b.push(e.target.value),localStorage.setItem("searchResults",JSON.stringify(b)),A(e.target.value),e.target.value=""}});let L="";const C=e=>{const t=document.querySelector(".placeholderVideoContainer"),n=document.querySelector(".modalTitle"),i=document.querySelector(".modalDescription__text"),r=document.querySelector(".modalmetaDataViews__channelName"),o=document.querySelector(".modalmetaDataViews__uploaded");let s;"trending"===e?s=S.find(e=>e.id===q[0]):"searched"===e&&(s=f.find(e=>e.id===q[0])),o.innerHTML="Uploaded: "+s.publishedWeeksAgo(),n.innerHTML=s.title,i.innerHTML=s.description,r.innerHTML="Channel ID: "+s.channelTitle,t.innerHTML=`<iframe src="https://www.youtube.com/embed/${q[0]}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`},T=e=>{const t=document.querySelector(".videoModal__container"),n=document.querySelectorAll(".videoCard__VideoInfo"),i=document.querySelectorAll(".videoCardSearched"),r=document.querySelector(".videoModal"),o=document.querySelector(".closer");r.addEventListener("click",e=>{e.stopPropagation()}),n.forEach(e=>{e.addEventListener("click",n=>{q=[e.id],t.classList.remove("display"),C("trending"),L="trending"})}),i.forEach(e=>{e.addEventListener("click",n=>{q=[e.id],t.classList.remove("display"),C("searched"),L="searched"})}),o.addEventListener("click",()=>{t.classList.add("display"),C("trending"===L?"trending":"searched")}),t.addEventListener("click",()=>{t.classList.add("display"),C("trending"===L?"trending":"searched")})},w=e=>{let t="";for(let n=0;n<e.length;n++)t+=`\n                        <div class="videoCard__VideoInfo" id=${e[n].id}>\n                            <div class="videoCard__VideoInfo__thumbnail">\n                                <img src="${e[n].thumbnail}">\n                            </div>\n                            <div class="videoCard__VideoInfo__summary">\n                                <div>\n                                <i class="fa fa-user-circle-o" aria-hidden="true"></i>\n                                </div>\n                                <div>\n                                    <div>\n                                        <p>${e[n].title}</p>\n                                    </div>\n                                    <div>\n                                        <p>${e[n].channelTitle}</p>\n                                    </div>\n                                    <div>\n                                        <p>${e[n].publishedWeeksAgo()}</p>\n                                    </div> \n                                </div>\n                            </div>\n                        </div>\n                    `;return t},M=e=>{r.classList.add("display"),o.classList.remove("display"),o.innerHTML=e,T()};if(localStorage.TrendingVideos){let e=k(JSON.parse(localStorage.getItem("TrendingVideos")),S);S=[...e],console.log("stored");let t=w(S);M(t)}else console.log("new"),fetch("https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&chart=mostPopular&maxResults=16&key=AIzaSyCzITvmAO8Q1gHaYdIxMk2YhJdjdylqbNM").then(e=>e.json()).then(e=>{let t=k(e,S);return localStorage.setItem("TrendingVideos",JSON.stringify(t)),console.log(localStorage.TrendingVideos),S}).then(e=>w(e)).then(e=>M(e)).catch(e=>alert("Apologies, the daily number of search requests for this free public API has been reached. The limit is reset every day, so please try again in 24 hours."));const A=e=>fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${e}&key=AIzaSyCzITvmAO8Q1gHaYdIxMk2YhJdjdylqbNM`).then(e=>e.json()).then(e=>k(e,f)).then(e=>I(e)).then(e=>E(e)).catch(e=>{console.log(e),alert("Apologies, the daily number of search requests for this free public API has been reached. The limit is reset every day, so please try again in 24 hours.")});function k(e,t){if(e.hasOwnProperty("items")&&t===S)for(let n=0;n<e.items.length;n++)t[n]=new _(e.items[n].id,e.items[n].snippet.title,e.items[n].snippet.description,e.items[n].snippet.thumbnails.medium.url,e.items[n].snippet.channelTitle,e.items[n].snippet.publishedAt);else if(e.hasOwnProperty("items")&&t===f)for(let n=0;n<e.items.length;n++)t[n]=new _(e.items[n].id.videoId,e.items[n].snippet.title,e.items[n].snippet.description,e.items[n].snippet.thumbnails.medium.url,e.items[n].snippet.channelTitle,e.items[n].snippet.publishedAt);else for(let n=0;n<e.length;n++)t[n]=new _(e[n].id,e[n].title,e[n].description,e[n].thumbnail,e[n].channelTitle,e[n].publishedAt);return t}const I=e=>{let t="";for(let n=0;n<e.length;n++)t+=`<div class="videoCardSearched" id=${e[n].id}>\n                    <div class="videoCardSearched__image">\n                        <img src="${e[n].thumbnail}">\n                    </div>\n                    <div class="videoCardSearched__VideoInfo">\n                        <h3>${e[n].title}</h3>\n                        <div>\n                            <ul>\n                                <li>${e[n].channelTitle}</li>\n                                <li>${e[n].publishedWeeksAgo()}</li>\n                            </ul>\n                        </div>\n                        <p>${e[n].description}</p>\n                    </div>\n                </div>\n             `;return t},E=e=>{r.classList.remove("display"),o.classList.add("display"),r.style["grid-template-columns"]="repeat(1, 1fr)",r.innerHTML=e,T()}},function(e,t,n){}]);