!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t,i){},function(e,t,i){"use strict";i.r(t);i(0);var n={videoSearchResult:[],videoTrending:[],searchesPerformed:[],videoCurrentlySelected:[]};var r=e=>{let t="";for(let i=0;i<e.length;i++)t+=`\n                        <div class="videoCard__VideoInfo" id=${e[i].id}>\n                            <div class="videoCard__VideoInfo__thumbnail">\n                                <img src="${e[i].thumbnail}">\n                            </div>\n                            <div class="videoCard__VideoInfo__summary">\n                                <div>\n                                <i class="fa fa-user-circle-o" aria-hidden="true"></i>\n                                </div>\n                                <div>\n                                    <div>\n                                        <p>${e[i].title}</p>\n                                    </div>\n                                    <div>\n                                        <p>${e[i].channelTitle}</p>\n                                    </div>\n                                    <div>\n                                        <p>${e[i].publishedWeeksAgo()}</p>\n                                    </div> \n                                </div>\n                            </div>\n                        </div>\n                    `;return t};class o{constructor(e,t,i,n,r,o){this.id=e,this.title=t,this.description=i,this.thumbnail=n,this.channelTitle=r,this.publishedAt=new Date(o)}publishedWeeksAgo(){const e=this.publishedAt.getFullYear(),t=this.publishedAt.getMonth(),i=this.publishedAt.getDay(),n=this.publishedAt.getHours(),r=(new Date).getFullYear(),o=(new Date).getMonth(),d=(new Date).getDay(),s=(new Date).getHours();return i===d?s-n+" hours ago":o===t?d-i+" days ago":e===r?o-t+" months ago":r-e+" years ago"}}var d=function(e,t){if(e.hasOwnProperty("items")&&t===n.videoTrending)for(let i=0;i<e.items.length;i++)t[i]=new o(e.items[i].id,e.items[i].snippet.title,e.items[i].snippet.description,e.items[i].snippet.thumbnails.medium.url,e.items[i].snippet.channelTitle,e.items[i].snippet.publishedAt);else if(e.hasOwnProperty("items")&&t===n.videoSearchResult)for(let i=0;i<e.items.length;i++)t[i]=new o(e.items[i].id.videoId,e.items[i].snippet.title,e.items[i].snippet.description,e.items[i].snippet.thumbnails.medium.url,e.items[i].snippet.channelTitle,e.items[i].snippet.publishedAt);else for(let i=0;i<e.length;i++)t[i]=new o(e[i].id,e[i].title,e[i].description,e[i].thumbnail,e[i].channelTitle,e[i].publishedAt);return t};var s=e=>{const t=document.querySelector(".placeholderVideoContainer"),i=document.querySelector(".modalTitle"),r=document.querySelector(".modalDescription__text"),o=document.querySelector(".modalmetaDataViews__channelName"),d=document.querySelector(".modalmetaDataViews__uploaded");let s;if(e&&void 0!==e)"trending"===e?s=n.videoTrending.find(e=>e.id===n.videoCurrentlySelected[0]):"searched"===e&&(s=n.videoSearchResult.find(e=>e.id===n.videoCurrentlySelected[0]));else{let e=n.videoSearchResult.find(e=>e.id===n.videoCurrentlySelected[0]),t=n.videoTrending.find(e=>e.id===n.videoCurrentlySelected[0]);s=e||t}d.innerHTML=s?"Uploaded: "+s.publishedWeeksAgo():"",i.innerHTML=s?s.title:" ",r.innerHTML=s?s.description:"",o.innerHTML=s?"Channel ID: "+s.channelTitle:"",t.innerHTML=`<iframe src="https://www.youtube.com/embed/${n.videoCurrentlySelected[0]}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`};var a=()=>{let e="";const t=document.querySelector(".videoModal__container"),i=document.querySelectorAll(".videoCard__VideoInfo"),r=document.querySelectorAll(".videoCardSearched"),o=document.querySelector(".videoModal"),d=document.querySelector(".closer");o.addEventListener("click",e=>{e.stopPropagation()}),i.forEach(i=>{i.addEventListener("click",r=>{n.videoCurrentlySelected=[i.id],t.classList.remove("display"),s("trending"),e="trending"})}),r.forEach(i=>{i.addEventListener("click",r=>{n.videoCurrentlySelected=[i.id],t.classList.remove("display"),s("searched"),e="searched"})}),d.addEventListener("click",()=>{t.classList.add("display"),s("trending"===e?"trending":"searched")}),t.addEventListener("click",()=>{t.classList.add("display"),s("trending"===e?"trending":"searched")})};var l=e=>{const t=document.querySelector(".mainContainer__videoContainer___search"),i=document.querySelector(".mainContainer__videoContainer___recommended");t.classList.add("display"),i.classList.remove("display"),i.innerHTML=e,a()};var c=()=>fetch("https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&chart=mostPopular&maxResults=16&key=AIzaSyCzITvmAO8Q1gHaYdIxMk2YhJdjdylqbNM").then(e=>e.json()).then(e=>{let t=d(e,n.videoTrending);return localStorage.setItem("TrendingVideos",JSON.stringify(t)),n.videoTrending}).then(e=>r(e)).then(e=>l(e)).catch(e=>{throw alert("Apologies, the daily number of search requests for this free public API has been reached. The limit is reset every day, so please try again in 24 hours."),e});var u=e=>{let t="";for(let i=0;i<e.length;i++)t+=`<div class="videoCardSearched" id=${e[i].id}>\n                        <div class="videoCardSearched__image">\n                            <img src="${e[i].thumbnail}">\n                        </div>\n                        <div class="videoCardSearched__VideoInfo">\n                            <h3>${e[i].title}</h3>\n                            <div>\n                                <ul>\n                                    <li>${e[i].channelTitle}</li>\n                                    <li>${e[i].publishedWeeksAgo()}</li>\n                                </ul>\n                            </div>\n                            <p>${e[i].description}</p>\n                        </div>\n                    </div>\n                 `;return t};var h=e=>{const t=document.querySelector(".mainContainer__videoContainer___search"),i=document.querySelector(".mainContainer__videoContainer___recommended");t.classList.remove("display"),i.classList.add("display"),t.style["grid-template-columns"]="repeat(1, 1fr)",t.innerHTML=e,a(e)};var m=e=>fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${e}&key=AIzaSyCzITvmAO8Q1gHaYdIxMk2YhJdjdylqbNM`).then(e=>e.json()).then(e=>d(e,n.videoSearchResult)).then(e=>u(e)).then(e=>h(e)).catch(e=>{throw alert("Apologies, the daily number of search requests for this free public API has been reached. The limit is reset every day, so please try again in 24 hours."),e});if((()=>{const e=document.querySelector(".mainContainer"),t=document.querySelector(".mainContainer__videoContainer__h3"),i=document.querySelector(".header__input input"),o=document.querySelector(".mainContainer__sideNavigation__history"),d=document.querySelector(".mainContainer__modalNavigation__history"),s=document.querySelector(".header__menu"),a=document.querySelector(".sideMenu"),c=document.querySelector(".sideMenuClose"),u=document.querySelector(".mainContainer__sideNavigation__trending"),p=document.querySelector(".mainContainer__modalNavigation__trending"),v=document.querySelector(".mainContainer__modalNavigation__home"),y=document.querySelector(".sideMenu__menu"),g=document.querySelector(".mainContainer__sideNavigation__home");s.addEventListener("click",t=>{a.classList.remove("display"),e.style.position="absolute",e.style.left="102.5px"}),y.addEventListener("click",e=>{e.stopPropagation()}),c.addEventListener("click",t=>{a.classList.add("display"),e.style.position="static",e.style.left="0px"}),a.addEventListener("click",()=>{a.classList.add("display"),e.style.position="static",e.style.left="0px"}),[u,p,g,v].forEach(e=>e.addEventListener("click",i=>{const o=r(n.videoTrending);l(o),t.innerHTML=e===u||e===p?"Trending":"Home"})),[o,d].forEach(e=>e.addEventListener("click",e=>{let i=`<div class="historyStorageResults">\n                            <h3>Here are your previous searches:</h3>\n                        <p>${n.searchesPerformed.length} searchs were previously performed</p>\n                        <ol>`;if(n.searchesPerformed.length>0)for(let e=0;e<n.searchesPerformed.length;e++)i+=`<li>${n.searchesPerformed[e].toUpperCase()}</li>`;i+="</ol></div>",t.innerHTML="History",h(i)})),i.addEventListener("keypress",e=>{if("Enter"===e.key){if(null===e.target.value||void 0===e.target.value||""===e.target.value)return;n.searchesPerformed.push(e.target.value),localStorage.setItem("searchResults",JSON.stringify(n.searchesPerformed)),m(e.target.value),e.target.value=""}})})(),localStorage.searchResults){let e=localStorage.getItem("searchResults");n.searchesPerformed=JSON.parse(e)}if(localStorage.TrendingVideos){let e=JSON.parse(localStorage.getItem("TrendingVideos")),t=d(e,n.videoTrending);n.videoTrending=[...t],console.log("stored");let i=r(n.videoTrending);l(i)}else console.log("new"),c()}]);